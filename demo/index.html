<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>dialog - CustomElements</title>
	<script src="../bower_components/CustomElements/custom-elements.js"></script>
	<script src="../src/main.js"></script>
</head>

<body>
Begin
<dialog>test</dialog>
End End End<br />
End End End<br />
End End End<br />
End End End<br />
End End End<br />
End End End<br />
End End End<br />
End End End<br />
End End End<br />
End End End<br />

<script>

/*
Even if the dialog code (with HTML Import support) injects a
<link rel=import>, the user could avoid this non-standard event by
listening to its load event on the generated link, but that
would defeat the purpose of this working like a polyfill. I guess there's
no real way to polyfill this short of modifying the Polymer code to make it
work synchronously or if the standard defines such an event.
*/
document.addEventListener('WebComponentsReady', function() {'use strict';

var dialog = document.querySelector('dialog');
/*
// Also works
var dialog = document.createElement('dialog');
dialog.appendChild(document.createTextNode('test'));
document.body.appendChild(dialog);
dialog.setAttribute('open', true);
*/
dialog.show(); // works
// dialog.open = true; // works also
// dialog.showModal(); // works but not yet modally

/*
setTimeout(function () { // works
	dialog.close();
}, 2000);
*/
/*
dialog.returnValue = 5;
alert(dialog.open === true);
alert(dialog.returnValue === '5');
dialog.close(7); // works
alert(dialog.returnValue === '7');
*/

});
</script>

</body>

</html>
